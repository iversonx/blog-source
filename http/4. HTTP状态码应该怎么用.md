---
title: HTTP状态码应该怎么用
date: 2019-06-28
categories: http
tags: 学习笔记
description: 
---

HTTP状态码是响应报文的响应头中状态行的组成部分。状态码由三位数组成，取值范围从000-999。

RFC标准把状态码分成五类，用数字的第一位表示分类，目前实际可用范围为100-599。

这五类的具体含义:

- 1xx: 表示目前是协议处理的中间状态，还需要后续的操作；

- 2xx: 成功，报文已经收到并被正确处理；

- 3xx: 重定向，表示资源位置发生变动，需要客户端重新发送请求；

- 4xx: 客户端错误，请求报文有误，服务器无法处理；

- 5xx: 服务器错误，服务器在处理请求时内部发生了错误。

### 1xx

1xx属于提示信息，是协议处理的中间状态，实际能用到时候很少。

偶尔能见到"101 Switching Protocols"，意思是客户端使用Upgrade头字段，要求在HTTP协议的基础上改成其他的协议继续通信。如果服务器同意变更协议，就会发送状态码101，之后的数据传输就不会使用HTTP。

### 常见状态码

#### 2xx

- "200 OK"：最常见的成功状态码，表示一切正常，服务器如客户端所期望的那样返回了处理结果。

- "204 No Content"：含义与"200 OK"基本相同，但响应头后没有body数据。

- "206 Partial Content"：HTTP分块下载或断点续传的基础，在客户端发送"范围请求"、要求获取资源的部分数据时出现。也是成功处理了请求，但body里的数据只是资源的一部分。通常还伴随着头字段"Content-Range"

#### 3xx

- "301 Moved Permanently"：永久重定向，表示请求的资源不存在，需要改用新的URI再次访问。

- "302 Found"：临时重定向，请求的资源还在，但需要暂时用另一个URI来访问。

- "304 Not Modified"：缓存重定向，用于`If-Modified-Since`等条件请求，表示资源为修改，用于缓存控制，不具有通常的跳转含义，但可以理解为“重定向到缓存的文件”

#### 4xx

- "400 Bad Request"：表示请求报文错误，是一个比较笼统的错误，具体是数据格式错误，缺少请求头，还是URI超长，没有明确说明。

- "401 Unauthorized"：表示客户端在访问资源前需要先进行认证。

- "403 Forbidden"：实际上不是客户端的请求出错，表示服务器禁止访问资源。

- "404 Not Found"：表示资源在服务上找不到。

- "405 Method Not Allowed"：不允许使用某些请求方法操作资源，例如不允许POST，只能GET；

- "415 Unsupported Media Type"：服务器无法理解或无法支持客户端所发送实体的内容类型。

#### 5xx

- "500 Internal Server Error"：与400类似，也是一个通用的错误码，表示服务器错误，但服务器具体发生了什么错误就不清楚。

- "501 Not Implementd" ：客户端请求的功能还不支持。

- "502 Bad Gateway"：服务器作为网关或代理时返回的错误码，表示服务器自身工作正常，访问后端服务器时发生了错误，但具体的错误原因也是不知道的。

- "503 Service Unavailable"：表示服务器当前很忙，暂时无法响应服务。
